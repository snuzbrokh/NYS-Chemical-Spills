#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:20) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill='green') +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(20:40) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill='green') +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(19:40) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill='green') +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(spilled)) %>%
slice(19:40) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill='green') +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(spilled)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill='green') +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(spilled)) %>%
slice(1:20) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill='green') +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:20) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled, col=`Material Family`), alpha = 0.5, fill='green') +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County, `Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:20) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled, col=`Material Family`), alpha = 0.5, fill='green') +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County, `Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:20) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled, fill=`Material Family`), alpha = 0.5) +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County, `Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled, fill=`Material Family`), alpha = 0.5) +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by( `Material Family`,County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled, fill=`Material Family`), alpha = 0.5) +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled, fill="green"), alpha = 0.5) +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill="green") +
coord_flip()
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill="purple") +
coord_flip()
county_name = c('New York','Kings','Bronx','Queens')
spills_anal %>%
filter(County %in% county_name) %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(`Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(`Material Family`,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill="purple") +
coord_flip()
county_name = c('New York','Kings','Bronx','Queens')
spills_anal %>%
filter(County %in% county_name) %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(`Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(`Material Family`,spilled))) +
#geom_point(aes(y=clag), color='red') +
#geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill="purple") +
coord_flip()
spills_clean %>% select(County) %>% unique()
spills_clean %>% select(County) %>% unique() %>% sort()
spills_clean %>% select(County) %>% sort() %>% unique()
spills_clean %>% select(County) %>% unique()
county_name = c('New York','Kings','Bronx','Queens','Richmond')
spills_anal %>%
filter(County %in% county_name) %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(`Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(`Material Family`,spilled))) +
#geom_point(aes(y=clag), color='red') +
#geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill="purple") +
coord_flip()
county_name = c('New York','Kings','Bronx','Queens','Richmond')
spills_anal %>%
filter(County %in% county_name) %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(`Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(`Material Family`,spilled))) +
geom_point(aes(y=clag), color='red') +
#geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill="purple") +
coord_flip()
county_name = c('New York','Kings','Bronx','Queens','Richmond')
spills_anal %>%
filter(County %in% county_name) %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(`Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(`Material Family`,spilled))) +
#geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill="purple") +
geom_point(aes(y=clag), color='red') +
coord_flip()
county_name = c('New York','Kings','Bronx','Queens','Richmond')
spills_anal %>%
filter(County %in% county_name) %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(`Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(`Material Family`,spilled))) +
#geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill="purple") +
geom_col(aes(y=recov)) +
#geom_point(aes(y=clag), color='red') +
coord_flip()
county_name = c('New York','Kings','Bronx','Queens','Richmond')
spills_anal %>%
filter(County %in% county_name) %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(`Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(`Material Family`,spilled))) +
#geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill="purple") +
geom_col(aes(y=recov), fill='green', alpha=0.5) +
#geom_point(aes(y=clag), color='red') +
coord_flip()
county_name = c('New York','Kings','Bronx','Queens','Richmond')
spills_anal %>%
filter(County %in% county_name) %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(`Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(`Material Family`,spilled))) +
#geom_point(aes(y=rlag), color='blue') +
#geom_col(aes(y=spilled), alpha = 0.5, fill="purple") +
geom_col(aes(y=recov), fill='green', alpha=0.5) +
#geom_point(aes(y=clag), color='red') +
coord_flip()
county_name = c('New York','Kings','Bronx','Queens','Richmond')
spills_anal %>%
filter(County %in% county_name) %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(`Material Family`) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = mean(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(`Material Family`,spilled))) +
#geom_point(aes(y=rlag), color='blue') +
#geom_col(aes(y=spilled), alpha = 0.5, fill="purple") +
geom_col(aes(y=recov), fill='green', alpha=0.5) +
#geom_point(aes(y=clag), color='red') +
coord_flip()
write_csv(spills, '../data/spills_clean.csv')
write_csv(storage, '../data/storage_clean.csv')
spills_clean = read_csv("../data/spills_clean.csv")
spills_clean %>%
select_if(function(x) any(is.na(x))) %>%
summarise_each(funs(sum(is.na(.))))
#spills_clean = spills_clean %>% drop_na()
storage_clean = read_csv("../data/storage_clean.csv")
spills_clean$`Spill Date` = clean_date_str(spills_clean$`Spill Date`)
spills_clean$`Received Date` = clean_date_str(spills_clean$`Received Date`)
spills_clean$`Close Date` = clean_date_str(spills_clean$`Close Date`)
storage_clean$`Spill Date` = clean_date_str(storage_clean$Install.Date)
storage_clean$Close.Date = clean_date_str(storage_clean$Close.Date)
storage_clean$Expiration.Date = clean_date_str(storage_clean$Expiration.Date)
spills_clean = spills_clean %>%
mutate('Report Lag' = as.numeric(difftime(`Received Date`,`Spill Date`,units = 'days')),
'Case Lag' = as.numeric(difftime(`Close Date`,`Spill Date`,units = 'days')))
spills_clean %>%
filter(County == 'New York') %>%
select(Locality, County) %>%
arrange(Locality) %>%
unique()
colnames(spills_clean)
colnames(spills_clean)
spills_clean$Waterbody %>% replace(is.na(.),'N/A')
colnames(spills_clean)
spills_clean$Waterbody = spills_clean$Waterbody %>% replace(is.na(.),'N/A')
spills_clean = select(spills_clean, -"Street 2",-"ZIP Code")
spills_clean = spills_clean %>% drop_na()
storage_clean = storage_clean %>% drop_na()
write_csv(spills_clean, '../data/spills_clean.csv')
write_csv(storage_clean, '../data/storage_clean.csv')
spills_anal = spills_clean %>% filter(`Case Lag`>0 &`Report Lag` > 0) %>% select(County,`Spill Date`,`Material Name`,'Material Family',Quantity, Recovered,`Report Lag`, `Case Lag`)
spills_anal %>%
#filter(!(`Material Family` %in% c('Petroleum','Petrochemical'))) %>%
group_by(County) %>%
summarise(clag = median(`Case Lag`), rlag = median(`Report Lag`), recov = median(Recovered), spilled = median(Quantity)) %>%
arrange(desc(clag)) %>%
slice(1:10) %>%
ggplot(aes(x = reorder(County,spilled))) +
geom_point(aes(y=clag), color='red') +
geom_point(aes(y=rlag), color='blue') +
geom_col(aes(y=spilled), alpha = 0.5, fill="purple") +
coord_flip()
storage_clean = storage_clean %>%
semi_join(spills, by = c('Material.Name' = 'Material Name'))
spills_clean = spills_clean %>%
semi_join(storage_clean, by = c('County'))
spills_clean = select(spills_clean, -"Street 2",-"ZIP Code")
#spills_clean = select(spills_clean, -"Street 2",-"ZIP Code")
spills_clean = spills_clean %>% drop_na()
storage_clean = storage_clean %>% rename('County' = County.Name) %>% drop_na()
storage_clean = storage_clean %>%
semi_join(spills, by = c('Material.Name' = 'Material Name'))
spills_clean = spills_clean %>%
semi_join(storage_clean, by = c('County'))
write_csv(spills_clean, '../data/spills_clean.csv')
write_csv(storage_clean, '../data/storage_clean.csv')
storage_clean %>% select(Site.Type.Name) %>% unique()
# Facility Closures
county_name = c('New York')
facility_closures = storage_anal %>%
rename("Date" =  Close.Date) %>%
group_by(Date) %>%
summarise(closures = n())
num_spills = spills_clean %>%
rename("Date" = 'Spill Date') %>%
group_by(Date) %>%
group_by(Date) %>%
summarise(spills = n())
closures_and_spills = full_join(facility_closures, num_spills,
by=c("Date")) %>% replace(is.na(.),0)
closures_and_spills
closures_and_spills %>%
ggplot(aes(x=Date, group=2)) +
geom_point(aes(y=closures),color='red') +
geom_point(aes(y=spills),color='blue')
by_month %>%
ggplot(aes(x=month, group=2)) +
geom_point(aes(y=closures, col = 'red')) +
geom_point(aes(y=spills, col = 'blue'))
# Facility Closures
county_name = c('New York')
facility_closures = storage_anal %>%
rename("Date" =  Close.Date) %>%
group_by(County,Date) %>%
summarise(closures = n())
num_spills = spills_clean %>%
rename("Date" = 'Spill Date') %>%
group_by(County,Date) %>%
summarise(spills = n())
closures_and_spills = full_join(facility_closures, num_spills,
by=c("County","Date")) %>% replace(is.na(.),0)
closures_and_spills
#spills_clean = select(spills_clean, -"Street 2",-"ZIP Code")
spills_clean = spills_clean %>% drop_na()
storage_clean =
storage_clean %>%
rename('County' = County.Name, 'DEC Region' = NYSDEC.Region) %>%
drop_na()
#spills_clean = select(spills_clean, -"Street 2",-"ZIP Code")
spills_clean = spills_clean %>% drop_na()
storage_clean =
storage_clean %>%
rename('DEC Region' = NYSDEC.Region) %>%
drop_na()
write_csv(spills_clean, '../data/spills_clean.csv')
write_csv(storage_clean, '../data/storage_clean.csv')
# Facility Closures
county_name = c('New York')
facility_closures = storage_anal %>%
rename("Date" =  Close.Date) %>%
group_by(`DEC Region` ,Date) %>%
summarise(closures = n())
# Facility Closures
county_name = c('New York')
facility_closures = storage_clean %>%
rename("Date" =  Close.Date) %>%
group_by(`DEC Region` ,Date) %>%
summarise(closures = n())
num_spills = spills_clean %>%
rename("Date" = 'Spill Date') %>%
group_by(`DEC Region`,Date) %>%
summarise(spills = n())
closures_and_spills = full_join(facility_closures, num_spills,
by=c(`DEC Region`,"Date")) %>% replace(is.na(.),0)
# Facility Closures
county_name = c('New York')
facility_closures = storage_clean %>%
rename("Date" =  Close.Date) %>%
group_by(`DEC Region` ,Date) %>%
summarise(closures = n())
num_spills = spills_clean %>%
rename("Date" = 'Spill Date') %>%
group_by(`DEC Region`,Date) %>%
summarise(spills = n())
closures_and_spills = full_join(facility_closures, num_spills,
by=c("DEC Region","Date")) %>% replace(is.na(.),0)
closures_and_spills
closures_and_spills %>%
ggplot(aes(x=Date, color = `DEC Region`)) +
geom_point(aes(y=closures))
closures_and_spills %>%
ggplot(aes(x=Date)) +
geom_point(aes(y=closures)) + facet_wrap(~ `DEC Region`)
closures_and_spills %>%
ggplot(aes(x=Date)) +
geom_point(aes(y=closures)) + facet_row(~ `DEC Region`)
closures_and_spills %>%
ggplot(aes(x=Date)) +
geom_point(aes(y=closures)) + facet_col(~ `DEC Region`)
closures_and_spills %>%
ggplot(aes(x=Date)) +
geom_point(aes(y=closures)) + facet_grid(`DEC Region` ~.)
closures_and_spills %>%
ggplot(aes(x=Date)) +
geom_point(aes(y=closures)) + facet_grid(.~`DEC Region`)
# Facility Closures
county_name = c('New York')
facility_closures = storage_clean %>%
rename("Date" =  Close.Date) %>%
group_by(`DEC Region`,County, Date) %>%
summarise(closures = n())
num_spills = spills_clean %>%
rename("Date" = 'Spill Date') %>%
group_by(`DEC Region`,County, Date) %>%
summarise(spills = n())
closures_and_spills = full_join(facility_closures, num_spills,
by=c("DEC Region","County","Date")) %>% replace(is.na(.),0)
closures_and_spills
library(Hmisc)
library(psych)
describe(closures_and_spills)
by_month = closures_and_spills %>%
group_by(month=floor_date(Date,"month")) %>%
summarise(closures= sum(closures), spills = sum(spills))
by_month = closures_and_spills %>%
group_by(`DEC Region` ,County,month=floor_date(Date,"month")) %>%
summarise(closures= sum(closures), spills = sum(spills))
by_month %>%
ggplot(aes(x=month, group=2)) +
geom_point(aes(y=closures, col = 'red')) +
geom_point(aes(y=spills, col = 'blue'))
by_month %>%
ggplot(aes(x=month, group=2)) +
geom_point(aes(y=closures, col = 'red')) +
geom_point(aes(y=spills, col = 'blue')) + facet_grid(.~ `DEC Region`)
by_month %>%
ggplot(aes(x=month, group=2)) +
geom_point(aes(y=closures, col = 'red')) +
geom_point(aes(y=spills, col = 'blue')) + facet_grid(`DEC Region`~.)
by_month %>%
ggplot(aes(x=month, group=2)) +
geom_path(aes(y=closures, col = 'red')) +
geom_path(aes(y=spills, col = 'blue'))
by_month %>%
ggplot(aes(x=month, group=2, color = `DEC Region`)) +
geom_path(aes(y=closures, col = 'red')) +
geom_path(aes(y=spills, col = 'blue'))
by_month %>%
ggplot(aes(x=month, group=2)) +
geom_path(aes(y=closures, col = 'red')) +
geom_path(aes(y=spills, col = 'blue'))
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
storage_clean %>% select(`DEC Region`) %>% unique()
storage_clean %>% select(`DEC Region`) %>% as.factor()
storage_clean$`DEC Region` = as.factor(storage_clean$`DEC Region`)
colnames(storage_clean)
storage_clean$`DEC Region` = as.factor(storage_clean$`DEC Region`)
spills_clean$`DEC Region` = as.factor(spills_clean$`DEC Region`)
colnames(storage_clean)
write_csv(spills_clean, '../data/spills_clean.csv')
write_csv(storage_clean, '../data/storage_clean.csv')
runApp()
runApp()
runApp()
runApp()
runApp()
View(spills_clean)
runApp()
spills_clean %>% select(Source) %>% unique()
runApp()
runApp()
runApp()
runApp()
runApp()
